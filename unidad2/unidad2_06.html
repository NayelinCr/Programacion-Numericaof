<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Unidad 2 ¬∑ Actividad 06</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;600&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">

  <style>
    /* ===== VARIABLES (Paleta Dark Mode) ===== */
    :root {
      --primary: #a78bfa;       /* Lila suave */
      --primary-dark: #7c3aed;  /* Violeta intenso */
      --secondary: #ec4899;     /* Rosa ne√≥n */
      --accent: #06b6d4;        /* Cian */
      --bg-dark: #0f0a1f;       /* Fondo muy oscuro */
      --bg-darker: #0a0614;     /* Fondo casi negro */
      --text: #f8fafc;          /* Blanco humo */
      --text-muted: #cbd5e1;    /* Gris claro */
      --border: rgba(167, 139, 250, 0.2);
      --glow: rgba(167, 139, 250, 0.5);
      --code-bg: #1e1e2e;       /* Fondo para c√≥digo */
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg-darker);
      color: var(--text);
      display: flex;
      min-height: 100vh;
      overflow-x: hidden;
      line-height: 1.6;
    }

    /* ===== FONDO ANIMADO ===== */
    body::before {
      content: '';
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background-image: 
        linear-gradient(rgba(167, 139, 250, 0.03) 2px, transparent 2px),
        linear-gradient(90deg, rgba(167, 139, 250, 0.03) 2px, transparent 2px);
      background-size: 50px 50px;
      pointer-events: none;
      z-index: 0;
      opacity: 0.5;
    }

    /* ===== SIDEBAR ===== */
    .sidebar {
      width: 260px;
      background: rgba(15, 10, 31, 0.95);
      backdrop-filter: blur(20px);
      border-right: 1px solid var(--border);
      padding: 2rem 1.5rem;
      position: fixed;
      top: 0; left: 0; bottom: 0;
      display: flex;
      flex-direction: column;
      z-index: 1000;
      transition: transform 0.3s ease;
    }

    .sidebar h2 {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.5rem;
      color: var(--text);
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--border);
      text-align: center;
    }

    .sidebar a {
      color: var(--text-muted);
      text-decoration: none;
      font-weight: 500;
      padding: 0.8rem 1rem;
      margin-bottom: 0.5rem;
      border-radius: 8px;
      transition: all 0.3s ease;
      display: block;
      font-size: 0.9rem;
    }

    .sidebar a:hover, .sidebar a.active {
      background: rgba(167, 139, 250, 0.15);
      color: var(--primary);
      border: 1px solid var(--border);
    }

    .toggle-btn {
      position: fixed;
      top: 1rem; left: 1rem;
      z-index: 1100;
      background: var(--bg-dark);
      border: 1px solid var(--border);
      color: var(--primary);
      padding: 0.5rem;
      border-radius: 8px;
      cursor: pointer;
      display: none;
    }

    /* ===== CONTENIDO ===== */
    .content {
      flex: 1;
      margin-left: 260px;
      padding: 3rem 4rem;
      position: relative;
      z-index: 1;
    }

    header {
      margin-bottom: 4rem;
      border-bottom: 1px solid var(--border);
      padding-bottom: 2rem;
      position: relative;
    }

    header h1 {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 2.5rem;
      background: linear-gradient(135deg, #fff, var(--primary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 0.5rem;
    }

    .estado {
      position: absolute;
      top: 0; right: 0;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: rgba(167, 139, 250, 0.1);
      border: 1px solid var(--border);
      border-radius: 100px;
      font-size: 0.85rem;
      color: var(--primary);
      font-weight: 600;
    }

    .burbuja {
      width: 8px; height: 8px;
      border-radius: 50%;
      background: var(--primary);
      box-shadow: 0 0 10px var(--glow);
      animation: pulse 2s infinite;
    }

    @keyframes pulse { 50% { opacity: 0.6; transform: scale(0.9); } }

    /* Estilos de Texto */
    h2 {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.8rem;
      color: var(--text);
      margin-top: 3rem;
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 10px;
      border-bottom: 1px dashed var(--border);
      padding-bottom: 0.5rem;
    }

    h2::before { content: '>'; color: var(--secondary); font-family: monospace; }

    h3 { color: var(--primary); margin: 2rem 0 1rem; font-size: 1.3rem; }
    h4 { color: var(--accent); margin: 1.5rem 0 0.8rem; font-size: 1.1rem; }

    p { color: var(--text-muted); margin-bottom: 1rem; text-align: justify; }
    ul { margin-left: 1.5rem; color: var(--text-muted); margin-bottom: 1rem; }
    li { margin-bottom: 0.3rem; }

    /* TABLAS DE DATOS */
    .data-table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
      font-size: 0.9rem;
      background: rgba(255, 255, 255, 0.02);
      border-radius: 8px;
      overflow: hidden;
    }
    .data-table th, .data-table td {
      padding: 0.8rem;
      border-bottom: 1px solid var(--border);
      text-align: center;
    }
    .data-table th {
      background: rgba(167, 139, 250, 0.1);
      color: var(--primary);
      font-weight: 600;
    }

    /* BLOQUES DE C√ìDIGO */
    .code-block {
      background: var(--code-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1.5rem 0;
      position: relative;
    }
    
    .code-label {
      position: absolute;
      top: -10px; right: 20px;
      background: var(--secondary);
      color: #fff;
      font-size: 0.75rem;
      padding: 2px 10px;
      border-radius: 4px;
      font-weight: bold;
    }

    pre { overflow-x: auto; }
    code {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85rem;
      color: #a5b3ce; 
    }
    
    /* Colores sintaxis simple */
    .comment { color: #6c7086; font-style: italic; }
    .keyword { color: #cba6f7; } 
    .string { color: #a6e3a1; }
    .number { color: #fab387; }

    /* CONSOLA DE SALIDA */
    .console-output {
      background: #000;
      border-left: 4px solid var(--accent);
      padding: 1rem;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85rem;
      color: #fff;
      margin-bottom: 3rem;
      white-space: pre-wrap;
    }

    @media (max-width: 768px) {
      .sidebar { transform: translateX(-100%); }
      .sidebar.show { transform: translateX(0); }
      .toggle-btn { display: block; }
      .content { margin-left: 0; padding: 2rem 1.5rem; }
    }
  </style>
</head>

<body>
  <button class="toggle-btn" onclick="document.getElementById('sidebar').classList.toggle('show')">‚ò∞</button>

  <aside class="sidebar" id="sidebar">
    <h2>Unidad 2</h2>
    <a href="unidad2_01.html">Actividad 01</a>
    <a href="unidad2_02.html">Actividad 02</a>
    <a href="unidad2_03.html">Actividad 03</a>
    <a href="unidad2_04.html">Actividad 04</a>
    <a href="unidad2_05.html">Actividad 05</a>
    <a href="unidad2_06.html" class="active">Actividad 06</a>
    <a href="unidad2_07.html">Actividad 07</a>
    
    <div style="margin-top: auto; padding-top: 1rem; border-top: 1px solid var(--border);">
      <a href="../index.html">üè† Inicio</a>
    </div>
  </aside>

  <div class="content">
    <header>
      <h1>Actividad 06 ¬∑ Diferenciaci√≥n Num√©rica</h1>
      <p>Fecha: 05/11/2025</p>
      <div class="estado">
        <div class="burbuja"></div> Completada
      </div>
    </header>

    <main>
      <section>
        [cite_start]<p>A continuaci√≥n se presenta el desarrollo completo de los ejercicios propuestos en el PDF "Diferenciaci√≥n Num√©rica", abarcando desde el an√°lisis de crecimiento de usuarios hasta feature engineering con datos de sensores[cite: 1, 10].</p>
      </section>

      <section>
        <h2>1. [cite_start]Ejercicio 1: An√°lisis de Crecimiento de Usuarios [cite: 28]</h2>
        
        <h3>Planteamiento</h3>
        <p>Una startup de tecnolog√≠a registra el n√∫mero acumulado de usuarios activos mensuales. [cite_start]Se requiere calcular las tasas de crecimiento y la aceleraci√≥n para determinar la salud del crecimiento[cite: 29].</p>
        <table class="data-table">
          <tr><th>Mes</th><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td></tr>
          <tr><th>Usuarios (miles)</th><td>10</td><td>15</td><td>23</td><td>34</td><td>48</td><td>65</td><td>85</td></tr>
        </table>

        <h3>Soluci√≥n Matem√°tica</h3>
        <ul>
            [cite_start]<li><strong>Mes 4 (Diferencia Centrada):</strong> Utilizando $h=1$, $f'(4) \approx (48 - 23) / 2 = 12.5$ miles/mes[cite: 54].</li>
            [cite_start]<li><strong>Mes 1 (Diferencia Adelante):</strong> $f'(1) \approx (15 - 10) / 1 = 5$ miles/mes[cite: 62].</li>
            [cite_start]<li><strong>Mes 7 (Diferencia Atr√°s):</strong> $f'(7) \approx (85 - 65) / 1 = 20$ miles/mes[cite: 68].</li>
            [cite_start]<li><strong>Aceleraci√≥n ($f''$):</strong> Calculando la segunda derivada para cada punto, se obtiene un valor constante de <strong>3 miles/mes¬≤</strong>[cite: 82].</li>
            [cite_start]<li><strong>Interpretaci√≥n:</strong> La startup crece de forma acelerada, ganando velocidad de crecimiento constantemente[cite: 88].</li>
        </ul>

        <div class="code-block">
          <span class="code-label">C√ìDIGO R</span>
<pre><code><span class="comment"># EJERCICIO 1: ANALISIS DE CRECIMIENTO DE USUARIOS</span>
usuarios <- c(<span class="number">10</span>, <span class="number">15</span>, <span class="number">23</span>, <span class="number">34</span>, <span class="number">48</span>, <span class="number">65</span>, <span class="number">85</span>) 
h <- <span class="number">1</span> <span class="comment"># paso en meses</span>

<span class="comment"># 1) Derivadas primeras</span>
fwd_mes1 <- (usuarios[<span class="number">2</span>] - usuarios[<span class="number">1</span>]) / h
central_mes4 <- (usuarios[<span class="number">5</span>] - usuarios[<span class="number">3</span>]) / (<span class="number">2</span> * h)
bwd_mes7 <- (usuarios[<span class="number">7</span>] - usuarios[<span class="number">6</span>]) / h

<span class="comment"># 2) Segunda derivada (aceleraci√≥n)</span>
n <- length(usuarios)
segunda <- numeric(n)
<span class="comment"># Calculo para todos los puntos (f√≥rmulas equivalentes)</span>
segunda[<span class="number">1</span>] <- usuarios[<span class="number">3</span>] - <span class="number">2</span>*usuarios[<span class="number">2</span>] + usuarios[<span class="number">1</span>]
<span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">2</span>:(n-<span class="number">1</span>)) {
    segunda[i] <- usuarios[i+<span class="number">1</span>] - <span class="number">2</span>*usuarios[i] + usuarios[i-<span class="number">1</span>]
}
segunda[n] <- usuarios[n] - <span class="number">2</span>*usuarios[n-<span class="number">1</span>] + usuarios[n-<span class="number">2</span>]

<span class="comment"># Mostrar resultados</span>
cat(<span class="string">"Derivada (mes 1, adelante):"</span>, fwd_mes1, <span class="string">"\n"</span>)
cat(<span class="string">"Derivada (mes 4, centrada):"</span>, central_mes4, <span class="string">"\n"</span>)
cat(<span class="string">"Derivada (mes 7, atras):"</span>, bwd_mes7, <span class="string">"\n"</span>)
cat(<span class="string">"Segunda derivada (aceleracion):"</span>, segunda, <span class="string">"\n"</span>)</code></pre>
        </div>

        <div class="console-output"><strong>RESULTADO (Salida Consola):</strong>
Derivada (mes 1, adelante): 5 miles usuarios/mes
Derivada (mes 4, centrada): 12.5 miles usuarios/mes
Derivada (mes 7, atras): 20 miles usuarios/mes
Segunda derivada (aceleracion): 3 3 3 3 3 3 3
Interpretacion: Aceleracion constante y positiva. Crecimiento acelerado.</div>
      </section>

      <section>
        <h2>2. [cite_start]Ejercicio 2: Optimizaci√≥n de Funci√≥n de P√©rdida [cite: 175]</h2>
        
        <h3>Planteamiento</h3>
        [cite_start]<p>Se registra la funci√≥n de p√©rdida (loss) durante el entrenamiento de un modelo de Machine Learning cada 10 √©pocas[cite: 176].</p>
        <table class="data-table">
          <tr><th>√âpoca</th><td>0</td><td>10</td><td>20</td><td>30</td><td>40</td><td>50</td></tr>
          <tr><th>Loss</th><td>2.45</td><td>1.82</td><td>1.35</td><td>1.08</td><td>0.95</td><td>0.89</td></tr>
        </table>

        <h3>Soluci√≥n Matem√°tica</h3>
        <ul>
            [cite_start]<li><strong>Tasa de cambio en √âpoca 20 ($h=10$):</strong> $f'(20) \approx (1.08 - 1.82) / 20 = -0.037$ loss/√©poca[cite: 201].</li>
            <li><strong>Segunda derivada en √âpoca 30:</strong> $f''(30) \approx (0.95 - 2(1.08) + 1.35) / 100 = 0.0014$. [cite_start]Al ser positivo, indica desaceleraci√≥n de la mejora[cite: 207].</li>
            <li><strong>Criterio de Parada ($|f'| < 0.01$):</strong> Se cumple en la √©poca 40, donde $|f'(40)| [cite_start]\approx 0.0095$[cite: 223].</li>
            [cite_start]<li><strong>Estimaci√≥n Lineal $f(25)$:</strong> $f(25) \approx 1.35 + 5(-0.037) = 1.165$[cite: 230].</li>
        </ul>

        <div class="code-block">
          <span class="code-label">C√ìDIGO R</span>
<pre><code>epocas <- c(<span class="number">0</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>)
loss <- c(<span class="number">2.45</span>, <span class="number">1.82</span>, <span class="number">1.35</span>, <span class="number">1.08</span>, <span class="number">0.95</span>, <span class="number">0.89</span>)
h <- <span class="number">10</span>

<span class="comment"># 1) Derivada centrada en epoca 20</span>
f_prime_20 <- (loss[<span class="number">4</span>] - loss[<span class="number">2</span>]) / (<span class="number">2</span> * h)

<span class="comment"># 2) Segunda derivada en epoca 30</span>
f_second_30 <- (loss[<span class="number">5</span>] - <span class="number">2</span>*loss[<span class="number">4</span>] + loss[<span class="number">3</span>]) / (h^<span class="number">2</span>)

<span class="comment"># 3) Calculo general para criterio de parada</span>
n <- length(epocas)
f_prime <- numeric(n)
<span class="comment"># ... (Calculo de derivadas para todo el vector usando bucle)</span>
f_prime[<span class="number">1</span>] <- (loss[<span class="number">2</span>]-loss[<span class="number">1</span>])/h
<span class="keyword">for</span>(i <span class="keyword">in</span> <span class="number">2</span>:(n-<span class="number">1</span>)) f_prime[i] <- (loss[i+<span class="number">1</span>]-loss[i-<span class="number">1</span>])/(<span class="number">2</span>*h)
f_prime[n] <- (loss[n]-loss[n-<span class="number">1</span>])/h

<span class="comment"># 4) Estimacion lineal epoca 25</span>
f_est_25 <- loss[<span class="number">3</span>] + (<span class="number">25</span> - <span class="number">20</span>) * f_prime[<span class="number">3</span>]

cat(<span class="string">"f'(20) ="</span>, f_prime_20, <span class="string">"\n"</span>)
cat(<span class="string">"f''(30) ="</span>, f_second_30, <span class="string">"\n"</span>)
cat(<span class="string">"Estimacion f(25) ="</span>, f_est_25, <span class="string">"\n"</span>)</code></pre>
        </div>

        <div class="console-output"><strong>RESULTADO (Salida Consola):</strong>
1) f'(20) (centrada) = -0.037 (loss/epoca)
2) f''(30) = 0.0014 (loss/epoca^2)
3) Primera epoca donde |f'| < 0.01: epoca 40
4) Estimacion lineal f(25) approx 1.165</div>
      </section>

      <section>
        <h2>3. [cite_start]Ejercicio 3: An√°lisis de Series Temporales de Ventas [cite: 334]</h2>
        
        <h3>Planteamiento</h3>
        <p>Ventas diarias en miles de d√≥lares durante una semana de campa√±a. [cite_start]Se busca identificar aceleraciones y proyectar ventas[cite: 335].</p>
        <table class="data-table">
          <tr><th>D√≠a</th><td>Lun</td><td>Mar</td><td>Mi√©</td><td>Jue</td><td>Vie</td><td>S√°b</td><td>Dom</td></tr>
          <tr><th>Ventas ($k)</th><td>45</td><td>52</td><td>61</td><td>58</td><td>73</td><td>89</td><td>95</td></tr>
        </table>

        <h3>Soluci√≥n Matem√°tica</h3>
        <ul>
            [cite_start]<li><strong>Velocidades de Crecimiento:</strong> Lun(7), Mar(8), Mi√©(3), Jue(6), Vie(15.5), S√°b(11), Dom(6)[cite: 359].</li>
            [cite_start]<li><strong>Mayor Aceleraci√≥n Positiva:</strong> Ocurre el <strong>Jueves</strong> con $f''(4) = 18$ $k/d√≠a¬≤[cite: 365].</li>
            [cite_start]<li><strong>Ca√≠da Mi√©rcoles-Jueves:</strong> Magnitud de -3 $k[cite: 368].</li>
            [cite_start]<li><strong>Proyecci√≥n Lunes Siguiente:</strong> Extrapolaci√≥n lineal desde el domingo: $95 + 6(1) = 101$ $k[cite: 375].</li>
        </ul>

        <div class="code-block">
          <span class="code-label">C√ìDIGO R</span>
<pre><code>dias <- c(<span class="string">"Lun"</span>, <span class="string">"Mar"</span>, <span class="string">"Mie"</span>, <span class="string">"Jue"</span>, <span class="string">"Vie"</span>, <span class="string">"Sab"</span>, <span class="string">"Dom"</span>)
ventas <- c(<span class="number">45</span>, <span class="number">52</span>, <span class="number">61</span>, <span class="number">58</span>, <span class="number">73</span>, <span class="number">89</span>, <span class="number">95</span>)
h <- <span class="number">1</span>

<span class="comment"># 1) Primera Derivada</span>
n <- length(ventas)
velocidad <- numeric(n)
velocidad[<span class="number">1</span>] <- (ventas[<span class="number">2</span>]-ventas[<span class="number">1</span>])/h
<span class="keyword">for</span>(i <span class="keyword">in</span> <span class="number">2</span>:(n-<span class="number">1</span>)) velocidad[i] <- (ventas[i+<span class="number">1</span>]-ventas[i-<span class="number">1</span>])/(<span class="number">2</span>*h)
velocidad[n] <- (ventas[n]-ventas[n-<span class="number">1</span>])/h

<span class="comment"># 2) Aceleracion y Maximo</span>
aceleracion <- rep(NA, n)
<span class="keyword">for</span>(i <span class="keyword">in</span> <span class="number">2</span>:(n-<span class="number">1</span>)) aceleracion[i] <- ventas[i+<span class="number">1</span>] - <span class="number">2</span>*ventas[i] + ventas[i-<span class="number">1</span>]
dia_max_acc <- dias[which.max(aceleracion)]

<span class="comment"># 3) Extrapolacion</span>
ventas_lun_sig <- ventas[n] + velocidad[n]*<span class="number">1</span>

cat(<span class="string">"Mayor aceleracion:"</span>, dia_max_acc, <span class="string">"\n"</span>)
cat(<span class="string">"Estimacion Lunes:"</span>, ventas_lun_sig, <span class="string">"\n"</span>)</code></pre>
        </div>

        <div class="console-output"><strong>RESULTADO (Salida Consola):</strong>
Dia(s) con mayor aceleracion positiva: Jue (18 $k/dia^2)
Caida Mie -> Jue: -3 $k
Estimacion ventas lunes siguiente: 101 $k</div>
      </section>

      <section>
        <h2>4. [cite_start]Ejercicio 4: Gradiente de Funci√≥n de Activaci√≥n [cite: 482]</h2>
        
        <h3>Planteamiento</h3>
        [cite_start]<p>C√°lculo del gradiente de la funci√≥n sigmoide $\sigma(x)$ utilizando datos tabulados y comparaci√≥n con la derivada anal√≠tica $\sigma'(x) = \sigma(x)(1-\sigma(x))$[cite: 483]. 

[Image of sigmoid function derivative]
</p>

        <h3>Soluci√≥n Matem√°tica</h3>
        <ul>
            [cite_start]<li><strong>$\sigma'(0)$ Num√©rico ($h=1$):</strong> $(0.7311 - 0.2689)/2 = 0.2311$[cite: 496].</li>
            <li><strong>Comparaci√≥n Anal√≠tica:</strong> Valor real $0.25$. [cite_start]Error de $-0.0189$ debido al paso $h=1$ muy grande[cite: 512].</li>
            <li><strong>Simetr√≠a:</strong> $\sigma'(-2) \approx 0.1107$ y $\sigma'(2) \approx 0.1107$. [cite_start]Esto confirma que la derivada de la sigmoide es una funci√≥n par[cite: 526].</li>
            [cite_start]<li><strong>Recomendaci√≥n:</strong> Reducir el paso a $h \approx 10^{-5}$ para balancear errores de truncamiento y redondeo[cite: 522].</li>
        </ul>

        <div class="code-block">
          <span class="code-label">C√ìDIGO R</span>
<pre><code>x_vals <- c(-<span class="number">3</span>, -<span class="number">2</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)
sigma_vals <- c(<span class="number">0.0474</span>, <span class="number">0.1192</span>, <span class="number">0.2689</span>, <span class="number">0.5000</span>, <span class="number">0.7311</span>, <span class="number">0.8808</span>, <span class="number">0.9526</span>)
names(sigma_vals) <- as.character(x_vals)

centered_diff <- <span class="keyword">function</span>(x, map, h=<span class="number">1</span>) {
    x_p <- as.character(x+h); x_m <- as.character(x-h)
    <span class="keyword">return</span>((map[x_p] - map[x_m])/(<span class="number">2</span>*h))
}

<span class="comment"># Calculos en puntos clave</span>
d_0 <- centered_diff(<span class="number">0</span>, sigma_vals)
d_2 <- centered_diff(<span class="number">2</span>, sigma_vals)

cat(<span class="string">"x=0 num:"</span>, d_0, <span class="string">"analitica: 0.25\n"</span>)
cat(<span class="string">"x=2 num:"</span>, d_2, <span class="string">"\n"</span>)</code></pre>
        </div>

        <div class="console-output"><strong>RESULTADO (Salida Consola):</strong>
x=-2 : num(h=1)=0.11075 analitica=0.10499
x=0  : num(h=1)=0.2311  analitica=0.25
x=2  : num(h=1)=0.11075 analitica=0.10499
Nota: h=1 introduce error de truncamiento visible.</div>
      </section>

      <section>
        <h2>5. [cite_start]Ejercicio 5: Detecci√≥n de Anomal√≠as en M√©tricas [cite: 614]</h2>
        
        <h3>Planteamiento</h3>
        [cite_start]<p>Se analiza la latencia (ms) de una API por hora para detectar picos an√≥malos usando la primera y segunda derivada[cite: 615].</p>
        <table class="data-table">
          <tr><th>Hora</th><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td></tr>
          <tr><th>Latencia</th><td>120</td><td>125</td><td>128</td><td>135</td><td>280</td><td>290</td><td>275</td><td>155</td></tr>
        </table>

        <h3>Soluci√≥n Matem√°tica</h3>
        <ul>
            <li><strong>Pico de Anomal√≠a:</strong> Se identifica donde la segunda derivada cambia de signo (+ a -). [cite_start]Esto ocurre entre la <strong>Hora 3</strong> ($f''=138$) y la <strong>Hora 4</strong> ($f''=-135$)[cite: 646].</li>
            [cite_start]<li><strong>Magnitud del Salto:</strong> Entre horas 3 y 4 hay un aumento de $145$ ms[cite: 651].</li>
            [cite_start]<li><strong>Alertas (>50 ms/h):</strong> Las derivadas superan el umbral en las horas 3, 4, 6 y 7[cite: 661].</li>
            [cite_start]<li><strong>Recuperaci√≥n:</strong> A partir de la hora 6, la latencia cae a una tasa de $-67.5$ ms/h[cite: 656].</li>
        </ul>

        <div class="code-block">
          <span class="code-label">C√ìDIGO R</span>
<pre><code>latencia <- c(<span class="number">120</span>, <span class="number">125</span>, <span class="number">128</span>, <span class="number">135</span>, <span class="number">280</span>, <span class="number">290</span>, <span class="number">275</span>, <span class="number">155</span>)
h <- <span class="number">1</span>; n <- length(latencia)

<span class="comment"># Derivadas</span>
f_prime <- numeric(n); f_second <- rep(NA, n)
<span class="comment"># ... (Calculo bucles f_prime y f_second omitido por brevedad, igual a Ej. 1)</span>

<span class="comment"># Deteccion</span>
umbral <- <span class="number">50</span>
anomalias <- which(abs(f_prime) > umbral)
salto <- latencia[<span class="number">5</span>] - latencia[<span class="number">4</span>]

cat(<span class="string">"Anomalias indices:"</span>, anomalias, <span class="string">"\n"</span>)
cat(<span class="string">"Salto h3->h4:"</span>, salto, <span class="string">"\n"</span>)</code></pre>
        </div>

        <div class="console-output"><strong>RESULTADO (Salida Consola):</strong>
Pico(s) de anomalia (cambio en f'') detectado en hora: 4
Salto entre hora 3 y 4: 145 ms
Anomalias detectadas con |Delta| > 50 ms/h en horas: 3, 4, 6, 7</div>
      </section>

      <section>
        <h2>6. [cite_start]Ejercicio 6: An√°lisis de Tasa de Conversi√≥n (ROI) [cite: 786]</h2>
        
        <h3>Planteamiento</h3>
        [cite_start]<p>An√°lisis de ROI marginal basado en la tasa de conversi√≥n (%) vs Gasto en publicidad ($k)[cite: 787]. 

[Image of diminishing returns curve]
</p>
        <table class="data-table">
          <tr><th>Gasto ($k)</th><td>0</td><td>5</td><td>10</td><td>15</td><td>20</td><td>25</td></tr>
          <tr><th>Conv (%)</th><td>2.1</td><td>3.8</td><td>5.2</td><td>6.1</td><td>6.7</td><td>7.0</td></tr>
        </table>

        <h3>Soluci√≥n Matem√°tica</h3>
        <ul>
            [cite_start]<li><strong>ROI Marginal:</strong> 0.34, 0.31, 0.23, 0.15, 0.09, 0.06 (%/$k)[cite: 817].</li>
            [cite_start]<li><strong>Rango Eficiente:</strong> El ROI supera el 0.2% hasta los $10k[cite: 826].</li>
            [cite_start]<li><strong>Punto de Saturaci√≥n ($15k):</strong> La segunda derivada es negativa ($f''(15) \approx -0.012$), indicando rendimientos decrecientes[cite: 834].</li>
            [cite_start]<li><strong>Recomendaci√≥n:</strong> No aumentar el gasto m√°s all√° de $25k, donde el ROI marginal es m√≠nimo (0.06%)[cite: 838].</li>
        </ul>

        <div class="code-block">
          <span class="code-label">C√ìDIGO R</span>
<pre><code>gasto_k <- c(<span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">25</span>)
conversion <- c(<span class="number">2.1</span>, <span class="number">3.8</span>, <span class="number">5.2</span>, <span class="number">6.1</span>, <span class="number">6.7</span>, <span class="number">7.0</span>)
h <- <span class="number">5</span>

<span class="comment"># Calculo de ROI (f') y f'' en 15k</span>
f2_15 <- (conversion[<span class="number">5</span>] - <span class="number">2</span>*conversion[<span class="number">4</span>] + conversion[<span class="number">3</span>]) / h^<span class="number">2</span>

cat(<span class="string">"f''(15):"</span>, f2_15, <span class="string">"\n"</span>)</code></pre>
        </div>

        <div class="console-output"><strong>RESULTADO (Salida Consola):</strong>
ROI marginal en $25k: 0.06 %/$k
(Tarea 3) Segunda derivada en $15k: -0.012 %/($k)^2
Recomendacion: no aumentar gasto mas alla de $25k.</div>
      </section>

      <section>
        <h2>7. [cite_start]Ejercicio 7: Feature Engineering con Derivadas [cite: 940]</h2>
        
        <h3>Planteamiento</h3>
        [cite_start]<p>Uso de datos de un sensor de temperatura para crear nuevas caracter√≠sticas (features) para un modelo de machine learning: velocidad y aceleraci√≥n del cambio t√©rmico[cite: 945].</p>
        
        <h3>Soluci√≥n Matem√°tica</h3>
        <ul>
            <li><strong>Feature 1 (Velocidad):</strong> Primera derivada de la temperatura respecto al tiempo. [cite_start]Detecta cambios r√°pidos antes que el valor absoluto[cite: 958].</li>
            <li><strong>Feature 2 (Aceleraci√≥n):</strong> Segunda derivada. [cite_start]Indica si el calentamiento est√° empeorando[cite: 971].</li>
            [cite_start]<li><strong>Alertas:</strong> Un aumento mayor a $0.8^{\circ}C/s$ dispara alertas en los segundos 3, 4, 5, 6 y 7[cite: 993].</li>
        </ul>

        <div class="code-block">
          <span class="code-label">C√ìDIGO R</span>
<pre><code>t <- <span class="number">0</span>:<span class="number">7</span>
temp <- c(<span class="number">20.1</span>, <span class="number">20.3</span>, <span class="number">20.8</span>, <span class="number">21.5</span>, <span class="number">22.6</span>, <span class="number">24.2</span>, <span class="number">26.1</span>, <span class="number">28.5</span>)
h <- <span class="number">1</span>

<span class="comment"># Features</span>
d1 <- numeric(<span class="number">8</span>); d2 <- rep(NA, <span class="number">8</span>)
<span class="comment"># ... (bucles de derivacion omitidos)</span>
umbral <- <span class="number">0.8</span>
alertas <- which(d1 > umbral)

res <- data.frame(t, temp, d1=round(d1,<span class="number">3</span>), d2=round(d2,<span class="number">3</span>))
print(res)</code></pre>
        </div>

        <div class="console-output"><strong>RESULTADO (Salida Consola):</strong>
  t temp    d1    d2
1 0 20.1 0.200    NA
2 1 20.3 0.350 0.300
3 2 20.8 0.600 0.200
4 3 21.5 0.900 0.400  <- Alerta
5 4 22.6 1.350 0.500  <- Alerta
...</div>
      </section>

    </main>

    <footer>
      ¬© 2025 Nayelin ¬∑ Portafolio Programaci√≥n Num√©rica
    </footer>
  </div>
</body>
</html>
